{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ADMIN/web-camera/camera-web/src/app/layout.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport dynamic from \"next/dynamic\";\nimport Sidebar from \"../components/Sidebar\";\nimport Head from \"next/head\";\nimport \"./globals.css\";\n\nconst DynamicSidebar = dynamic(() => import(\"../components/Sidebar\"), { ssr: false });\n\nexport default function RootLayout({ children }: { children: React.ReactNode }) {\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isSmallScreen, setIsSmallScreen] = useState(false);\n  const touchStartX = useRef(0);\n\n  // Kiểm tra khi client đã sẵn sàng và cập nhật trạng thái màn hình\n  useEffect(() => {\n    if (typeof window !== \"undefined\") {\n      const handleResize = () => {\n        setIsSmallScreen(window.innerWidth < 640);\n      };\n      handleResize();\n      window.addEventListener(\"resize\", handleResize);\n      return () => window.removeEventListener(\"resize\", handleResize);\n    }\n  }, []); \n\n  const toggleSidebar = useCallback(() => {\n    setIsSidebarOpen(prev => !prev);\n  }, []);\n\n  const handleTouchStart = useCallback((e: React.TouchEvent) => {\n    touchStartX.current = e.touches[0].clientX;\n  }, []);\n\n  useEffect(() => {\n    const handleTouchMove = (e: TouchEvent) => {\n      const touchEndX = e.touches[0].clientX;\n      if (touchStartX.current - touchEndX > 100) {\n        setIsSidebarOpen(false);\n      }\n    };\n\n    if (isSidebarOpen) {\n      document.addEventListener(\"touchmove\", handleTouchMove);\n    } else {\n      document.removeEventListener(\"touchmove\", handleTouchMove);\n    }\n\n    return () => {\n      document.removeEventListener(\"touchmove\", handleTouchMove);\n    };\n  }, [isSidebarOpen]);\n\n  return (\n    <html lang=\"en\">\n      <Head>\n        <title>Camera Manager</title>\n        <meta name=\"description\" content=\"Manage and monitor your cameras efficiently\" />\n      </Head>\n      <body className=\"h-screen overflow-hidden bg-[#343940]\">\n        <div className=\"flex h-full relative\">\n          {/* Render Sidebar chỉ khi đã có window */}\n          {typeof window !== \"undefined\" && (\n            <div\n              aria-hidden={!isSidebarOpen}\n              className={`${isSmallScreen ? \"hidden\" : \"block\"} transform transition-all duration-300 ease-in-out z-50 fixed inset-0 sm:relative sm:block w-64 bg-gray-800 text-white`}\n              onTouchStart={handleTouchStart}\n            >\n              <DynamicSidebar />\n            </div>\n          )}\n\n          {/* Nút mở Sidebar cho màn hình nhỏ */}\n          {isSmallScreen && !isSidebarOpen && (\n            <button\n              aria-label=\"Toggle Sidebar\"\n              className=\"sm:hidden p-3 text-white bg-gray-700 rounded-full fixed top-4 left-4 z-50 hover:bg-gray-600\"\n              onClick={toggleSidebar}\n            >\n              <span className=\"block w-5 h-1 bg-white mb-1\"></span>\n              <span className=\"block w-5 h-1 bg-white mb-1\"></span>\n              <span className=\"block w-5 h-1 bg-white\"></span>\n            </button>\n          )}\n\n          <div className=\"flex-1 overflow-auto p-6 main-content transition-all duration-300 z-10\">\n            {children}\n          </div>\n        </div>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;;;AALA;;;;;AAQA,MAAM,iBAAiB,CAAA,GAAA,kKAAA,CAAA,UAAO,AAAD,EAAE;;;;;;IAAyC,KAAK;;KAAvE;AAES,SAAS,WAAW,EAAE,QAAQ,EAAiC;;IAC5E,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAE3B,kEAAkE;IAClE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,wCAAmC;gBACjC,MAAM;yDAAe;wBACnB,iBAAiB,OAAO,UAAU,GAAG;oBACvC;;gBACA;gBACA,OAAO,gBAAgB,CAAC,UAAU;gBAClC;4CAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;YACpD;QACF;+BAAG,EAAE;IAEL,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;iDAAE;YAChC;yDAAiB,CAAA,OAAQ,CAAC;;QAC5B;gDAAG,EAAE;IAEL,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;oDAAE,CAAC;YACpC,YAAY,OAAO,GAAG,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO;QAC5C;mDAAG,EAAE;IAEL,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,MAAM;wDAAkB,CAAC;oBACvB,MAAM,YAAY,EAAE,OAAO,CAAC,EAAE,CAAC,OAAO;oBACtC,IAAI,YAAY,OAAO,GAAG,YAAY,KAAK;wBACzC,iBAAiB;oBACnB;gBACF;;YAEA,IAAI,eAAe;gBACjB,SAAS,gBAAgB,CAAC,aAAa;YACzC,OAAO;gBACL,SAAS,mBAAmB,CAAC,aAAa;YAC5C;YAEA;wCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;gBAC5C;;QACF;+BAAG;QAAC;KAAc;IAElB,qBACE,6LAAC;QAAK,MAAK;;0BACT,6LAAC,uKAAA,CAAA,UAAI;;kCACH,6LAAC;kCAAM;;;;;;kCACP,6LAAC;wBAAK,MAAK;wBAAc,SAAQ;;;;;;;;;;;;0BAEnC,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC;oBAAI,WAAU;;wBAEZ,aAAkB,6BACjB,6LAAC;4BACC,eAAa,CAAC;4BACd,WAAW,GAAG,gBAAgB,WAAW,QAAQ,sHAAsH,CAAC;4BACxK,cAAc;sCAEd,cAAA,6LAAC;;;;;;;;;;wBAKJ,iBAAiB,CAAC,+BACjB,6LAAC;4BACC,cAAW;4BACX,WAAU;4BACV,SAAS;;8CAET,6LAAC;oCAAK,WAAU;;;;;;8CAChB,6LAAC;oCAAK,WAAU;;;;;;8CAChB,6LAAC;oCAAK,WAAU;;;;;;;;;;;;sCAIpB,6LAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;;;;;;;;;;;;;AAMb;GAnFwB;MAAA"}},
    {"offset": {"line": 199, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}