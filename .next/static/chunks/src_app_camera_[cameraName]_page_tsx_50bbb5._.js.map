{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ADMIN/camera-web/src/app/camera/%5BcameraName%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport Hls from 'hls.js';\r\n\r\nconst CameraPage = () => {\r\n  const videoRef = useRef<HTMLVideoElement | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (Hls.isSupported() && videoRef.current) {\r\n      const hls = new Hls();\r\n\r\n      hls.loadSource('http://160.22.122.122:8080/hls/stream.m3u8'); \r\n      hls.attachMedia(videoRef.current);\r\n\r\n      hls.on(Hls.Events.ERROR, (event, data) => {\r\n        console.error(\"HLS.js Error:\", data);\r\n        if (data.fatal) {\r\n          switch (data.type) {\r\n            case Hls.ErrorTypes.NETWORK_ERROR:\r\n              setError('Lỗi mạng. Vui lòng kiểm tra kết nối!');\r\n              break;\r\n            case Hls.ErrorTypes.MEDIA_ERROR:\r\n              setError('Lỗi media. Đang cố gắng khắc phục...');\r\n              hls.recoverMediaError();\r\n              break;\r\n            default:\r\n              hls.destroy();\r\n              setError('Không thể phát video.');\r\n              break;\r\n          }\r\n        }\r\n      });\r\n\r\n      return () => {\r\n        hls.destroy();\r\n      };\r\n    } else if (videoRef.current?.canPlayType('application/vnd.apple.mpegurl')) {\r\n      videoRef.current.src = 'http://160.22.122.122:8080/hls/live.m3u8';\r\n    } else {\r\n      setError('Trình duyệt của bạn không hỗ trợ HLS.');\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4 bg-gray-900 text-white min-h-[90vh] rounded-xl shadow-lg\">\r\n      <div className=\"relative w-full h-[70vh] rounded-lg overflow-hidden\">\r\n        {error ? (\r\n          <div className=\"text-center text-red-500\">\r\n            <p>{error}</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"video-container\">\r\n            <video\r\n              ref={videoRef}\r\n              controls\r\n              autoPlay\r\n              className=\"video-player w-full h-full rounded-lg shadow-lg\"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraPage;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,aAAa;;IACjB,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAA2B;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACR,IAAI,4IAAA,CAAA,UAAG,CAAC,WAAW,MAAM,SAAS,OAAO,EAAE;gBACzC,MAAM,MAAM,IAAI,4IAAA,CAAA,UAAG;gBAEnB,IAAI,UAAU,CAAC;gBACf,IAAI,WAAW,CAAC,SAAS,OAAO;gBAEhC,IAAI,EAAE,CAAC,4IAAA,CAAA,UAAG,CAAC,MAAM,CAAC,KAAK;4CAAE,CAAC,OAAO;wBAC/B,QAAQ,KAAK,CAAC,iBAAiB;wBAC/B,IAAI,KAAK,KAAK,EAAE;4BACd,OAAQ,KAAK,IAAI;gCACf,KAAK,4IAAA,CAAA,UAAG,CAAC,UAAU,CAAC,aAAa;oCAC/B,SAAS;oCACT;gCACF,KAAK,4IAAA,CAAA,UAAG,CAAC,UAAU,CAAC,WAAW;oCAC7B,SAAS;oCACT,IAAI,iBAAiB;oCACrB;gCACF;oCACE,IAAI,OAAO;oCACX,SAAS;oCACT;4BACJ;wBACF;oBACF;;gBAEA;4CAAO;wBACL,IAAI,OAAO;oBACb;;YACF,OAAO,IAAI,SAAS,OAAO,EAAE,YAAY,kCAAkC;gBACzE,SAAS,OAAO,CAAC,GAAG,GAAG;YACzB,OAAO;gBACL,SAAS;YACX;QACF;+BAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACZ,sBACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;8BAAG;;;;;;;;;;qCAGN,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,KAAK;oBACL,QAAQ;oBACR,QAAQ;oBACR,WAAU;;;;;;;;;;;;;;;;;;;;;AAOxB;GA5DM;KAAA;uCA8DS"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}