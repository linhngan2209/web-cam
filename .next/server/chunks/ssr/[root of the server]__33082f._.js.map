{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ADMIN/camera-web/src/services/apiClient.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: 'http://localhost:8000', \r\n  timeout: 20000, \r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  \r\n  },\r\n});\r\n\r\n// Interceptor cho request\r\naxiosInstance.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token'); \r\n    if (token) {\r\n      config.headers['Authorization'] = `Bearer ${token}`; \r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Interceptor cho response\r\naxiosInstance.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // if (error.response) {\r\n    //   if (error.response.status === 4) {\r\n    //     localStorage.removeItem('token');\r\n    //     window.location.href = '/login'; \r\n    //   }\r\n    // }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,gBAAgB,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACjC,SAAS;IACT,SAAS;IACT,SAAS;QACP,gBAAgB;IAElB;AACF;AAEA,0BAA0B;AAC1B,cAAc,YAAY,CAAC,OAAO,CAAC,GAAG,CACpC,CAAC;IACC,MAAM,QAAQ,aAAa,OAAO,CAAC;IACnC,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,OAAO;IACrD;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,2BAA2B;AAC3B,cAAc,YAAY,CAAC,QAAQ,CAAC,GAAG,CACrC,CAAC;IACC,OAAO;AACT,GACA,CAAC;IACC,wBAAwB;IACxB,uCAAuC;IACvC,wCAAwC;IACxC,wCAAwC;IACxC,MAAM;IACN,IAAI;IACJ,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ADMIN/camera-web/src/services/authApi.ts"],"sourcesContent":["import axiosInstance from \"./apiClient\"\r\n\r\nexport const postLogin = async (user: any) => {\r\n    try {\r\n        const response = await axiosInstance.post('/api/auth/login', user)\r\n        return response\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n\r\n}"],"names":[],"mappings":";;;AAAA;;AAEO,MAAM,YAAY,OAAO;IAC5B,IAAI;QACA,MAAM,WAAW,MAAM,4HAAA,CAAA,UAAa,CAAC,IAAI,CAAC,mBAAmB;QAC7D,OAAO;IACX,EAAE,OAAO,KAAK;QACV,QAAQ,GAAG,CAAC;IAChB;AAEJ"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ADMIN/camera-web/src/contexts/AuthenticationContext.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, ReactNode, useEffect } from 'react';\r\nimport { postLogin } from '@/services/authApi';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface AuthContextType {\r\n  isLoggedIn: boolean;\r\n  login: (user: any) => Promise<string | null>;\r\n  logout: () => void;\r\n  getUser: () => any; \r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const loggedIn = localStorage.getItem('isLoggedIn') === 'true';\r\n    setIsLoggedIn(loggedIn);\r\n  }, []);\r\n\r\n  const login = async (user: any): Promise<string | null> => {\r\n    try {\r\n      const response = await postLogin(user);\r\n      if (response?.data.statusCode === 200) {\r\n        localStorage.setItem('isLoggedIn', 'true');\r\n        localStorage.setItem('token', response.data.data.accessToken);\r\n        localStorage.setItem('user', JSON.stringify(response.data.data.userData));\r\n        setIsLoggedIn(true);\r\n        return null;\r\n      } else {\r\n        return 'Email hoặc mật khẩu không đúng';\r\n      }\r\n    } catch (error) {\r\n      return 'Đã xảy ra lỗi khi đăng nhập';\r\n    }\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('isLoggedIn');\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    setIsLoggedIn(false);\r\n    router.push('/login');\r\n  };\r\n\r\n  const getUser = () => {\r\n    const user = localStorage.getItem('user');\r\n    return user ? JSON.parse(user) : null;\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ isLoggedIn, login, logout, getUser }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth phải được sử dụng trong AuthProvider');\r\n  }\r\n  return context;\r\n};"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,eAAkD,CAAC,EAAE,QAAQ,EAAE;IAC1E,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,WAAW,aAAa,OAAO,CAAC,kBAAkB;QACxD,cAAc;IAChB,GAAG,EAAE;IAEL,MAAM,QAAQ,OAAO;QACnB,IAAI;YACF,MAAM,WAAW,MAAM,CAAA,GAAA,0HAAA,CAAA,YAAS,AAAD,EAAE;YACjC,IAAI,UAAU,KAAK,eAAe,KAAK;gBACrC,aAAa,OAAO,CAAC,cAAc;gBACnC,aAAa,OAAO,CAAC,SAAS,SAAS,IAAI,CAAC,IAAI,CAAC,WAAW;gBAC5D,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,QAAQ;gBACvE,cAAc;gBACd,OAAO;YACT,OAAO;gBACL,OAAO;YACT;QACF,EAAE,OAAO,OAAO;YACd,OAAO;QACT;IACF;IAEA,MAAM,SAAS;QACb,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,aAAa,UAAU,CAAC;QACxB,cAAc;QACd,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,UAAU;QACd,MAAM,OAAO,aAAa,OAAO,CAAC;QAClC,OAAO,OAAO,KAAK,KAAK,CAAC,QAAQ;IACnC;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAY;YAAO;YAAQ;QAAQ;kBAC/D;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ADMIN/camera-web/src/utils/queryClient.ts"],"sourcesContent":["import { QueryClient } from \"@tanstack/react-query\";\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      staleTime: 5000, \r\n      gcTime: 1000 * 60 * 5, \r\n      refetchOnWindowFocus: false, \r\n    },\r\n  },\r\n});\r\n\r\nexport default queryClient;"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,cAAc,IAAI,6KAAA,CAAA,cAAW,CAAC;IAClC,gBAAgB;QACd,SAAS;YACP,WAAW;YACX,QAAQ,OAAO,KAAK;YACpB,sBAAsB;QACxB;IACF;AACF;uCAEe"}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 283, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ADMIN/camera-web/src/app/client_providers.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { AuthProvider } from '@/contexts/AuthenticationContext';\r\nimport { QueryClientProvider } from '@tanstack/react-query';\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\r\nimport { ReactNode } from 'react';\r\nimport queryClient from '../utils/queryClient';\r\n\r\nexport default function ClientProviders({ children }: { children: ReactNode }) {\r\n  return (\r\n    <QueryClientProvider client={queryClient}>\r\n      <AuthProvider>\r\n        {children}\r\n        <ReactQueryDevtools initialIsOpen={false} />\r\n      </AuthProvider>\r\n    </QueryClientProvider>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AAIA;AAHA;AACA;AAJA;;;;;;AAQe,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;IAC3E,qBACE,8OAAC,sLAAA,CAAA,sBAAmB;QAAC,QAAQ,2HAAA,CAAA,UAAW;kBACtC,cAAA,8OAAC,yIAAA,CAAA,eAAY;;gBACV;8BACD,8OAAC,oLAAA,CAAA,qBAAkB;oBAAC,eAAe;;;;;;;;;;;;;;;;;AAI3C"}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}