{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ADMIN/camera-web/src/data/videos.ts"],"sourcesContent":["import { CameraFeed } from \"@/model/videosModel\";\r\n\r\nexport const cameraFeeds: CameraFeed[] = [\r\n    { id: 1, name: 'Cam 1', isActive: true, timestamp: '4p:11', videoUrl: 'https://firebasestorage.googleapis.com/v0/b/furnite-2cf5f.appspot.com/o/images%2Fcam1.mp4?alt=media&token=b274993d-80b0-4c1e-b794-9f3d01f33bb9' },\r\n    { id: 2, name: 'Cam 2', isActive: true, timestamp: '4p:41', videoUrl: 'https://firebasestorage.googleapis.com/v0/b/furnite-2cf5f.appspot.com/o/images%2Fcam2.mp4?alt=media&token=663feeb5-a73c-4f48-a003-cdeba45bfa01' },\r\n    { id: 3, name: 'Cam 3', isActive: true, timestamp: '4p:23', videoUrl: 'https://firebasestorage.googleapis.com/v0/b/furnite-2cf5f.appspot.com/o/images%2Fcam3.mp4?alt=media&token=d8cc43c9-97e5-4cac-936f-0a3ada2be638' },\r\n    { id: 4, name: 'Cam 4', isActive: true, timestamp: '4p:31', videoUrl: 'https://firebasestorage.googleapis.com/v0/b/furnite-2cf5f.appspot.com/o/images%2Fcam4.mp4?alt=media&token=61e76333-2f1e-4497-a207-d01c92d4e3d8' },\r\n  ]"],"names":[],"mappings":";;;AAEO,MAAM,cAA4B;IACrC;QAAE,IAAI;QAAG,MAAM;QAAS,UAAU;QAAM,WAAW;QAAS,UAAU;IAAiJ;IACvN;QAAE,IAAI;QAAG,MAAM;QAAS,UAAU;QAAM,WAAW;QAAS,UAAU;IAAiJ;IACvN;QAAE,IAAI;QAAG,MAAM;QAAS,UAAU;QAAM,WAAW;QAAS,UAAU;IAAiJ;IACvN;QAAE,IAAI;QAAG,MAAM;QAAS,UAAU;QAAM,WAAW;QAAS,UAAU;IAAiJ;CACxN"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ADMIN/camera-web/src/app/camera/%5BcameraName%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport LoadingComponent from '@/components/Loading';\r\nimport { cameraFeeds } from '@/data/videos';\r\nimport { CameraFeed } from '@/model/videosModel';\r\nimport { useParams } from 'next/navigation';\r\nimport { useState, useEffect, useCallback } from 'react';\r\nimport ReactPlayer from 'react-player';\r\n\r\nconst CameraPage = () => {\r\n  const [camera, setCamera] = useState<CameraFeed | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isPlaying, setIsPlaying] = useState(false); // Trạng thái điều khiển việc phát video\r\n  const { cameraName } = useParams();\r\n\r\n  // Hàm này để đảm bảo rằng trạng thái video luôn cập nhật đúng\r\n  const handleVideoLoad = useCallback(() => {\r\n    setIsPlaying(true); // Khi video được load, bật chế độ chơi video\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (cameraName && typeof cameraName === 'string') {\r\n      const cameraId = parseInt(cameraName);\r\n      const camFind = cameraFeeds.find(cam => cam.id === cameraId); // Dùng find thay vì filter\r\n      setCamera(camFind || null); // Nếu không tìm thấy camera, set null\r\n    }\r\n    setLoading(false); // Đặt loading = false sau khi camera đã được xác nhận\r\n  }, [cameraName]);\r\n\r\n  useEffect(() => {\r\n    if (camera) {\r\n      setIsPlaying(false); // Khi camera thay đổi, dừng video cũ\r\n    }\r\n  }, [camera]);\r\n\r\n  if (loading) {\r\n    return <LoadingComponent />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto p-4 bg-gray-900 text-white min-h-[90vh] rounded-xl shadow-lg\">\r\n      {camera && camera.videoUrl ? (\r\n        <div className=\"relative w-full h-[70vh] rounded-lg overflow-hidden\">\r\n          <ReactPlayer\r\n            key={camera.id} // Tái tạo lại component khi camera thay đổi\r\n            url={camera.videoUrl}\r\n            playing={isPlaying} // Phát video khi trạng thái `isPlaying` là true\r\n            controls={true}\r\n            width=\"100%\"\r\n            height=\"100%\"\r\n            className=\"rounded-lg shadow-lg\"\r\n            onReady={handleVideoLoad} // Khi video sẵn sàng, gọi hàm này\r\n          />\r\n        </div>\r\n      ) : (\r\n        <p className=\"text-center mt-4\">Không có video để hiển thị</p>\r\n      )}\r\n\r\n      {camera && (\r\n        <div className=\"mt-8\">\r\n          <h2 className=\"text-2xl font-semibold mb-2\">Thông tin chi tiết:</h2>\r\n          <p>Tên: {camera.name}</p>\r\n          <p>Thời lượng: {camera.timestamp}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraPage;\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AACA;AAPA;;;;;;;AASA,MAAM,aAAa;IACjB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAqB;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,wCAAwC;IAC3F,MAAM,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IAE/B,8DAA8D;IAC9D,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QAClC,aAAa,OAAO,6CAA6C;IACnE,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,cAAc,OAAO,eAAe,UAAU;YAChD,MAAM,WAAW,SAAS;YAC1B,MAAM,UAAU,qHAAA,CAAA,cAAW,CAAC,IAAI,CAAC,CAAA,MAAO,IAAI,EAAE,KAAK,WAAW,2BAA2B;YACzF,UAAU,WAAW,OAAO,sCAAsC;QACpE;QACA,WAAW,QAAQ,sDAAsD;IAC3E,GAAG;QAAC;KAAW;IAEf,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,QAAQ;YACV,aAAa,QAAQ,qCAAqC;QAC5D;IACF,GAAG;QAAC;KAAO;IAEX,IAAI,SAAS;QACX,qBAAO,8OAAC,6HAAA,CAAA,UAAgB;;;;;IAC1B;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,UAAU,OAAO,QAAQ,iBACxB,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,+IAAA,CAAA,UAAW;oBAEV,KAAK,OAAO,QAAQ;oBACpB,SAAS;oBACT,UAAU;oBACV,OAAM;oBACN,QAAO;oBACP,WAAU;oBACV,SAAS;mBAPJ,OAAO,EAAE;;;;;;;;;qCAWlB,8OAAC;gBAAE,WAAU;0BAAmB;;;;;;YAGjC,wBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA8B;;;;;;kCAC5C,8OAAC;;4BAAE;4BAAM,OAAO,IAAI;;;;;;;kCACpB,8OAAC;;4BAAE;4BAAa,OAAO,SAAS;;;;;;;;;;;;;;;;;;;AAK1C;uCAEe"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}